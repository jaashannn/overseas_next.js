(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{6558:(e,r,t)=>{Promise.resolve().then(t.bind(t,8476))},8476:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(5155),s=t(2115),l=t(2651),d=t(6046);let i=()=>{let[e,r]=(0,s.useState)({total:0,verified:0,unverified:0}),[t,i]=(0,s.useState)({from:"",to:"",departure:"",returnDate:"",class:"",priceFrom:"",type:""}),n=(0,d.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("role");"admin"!==e&&"agent"!==e&&n.push("/"),(async()=>{try{let e=(await l.A.get("/api/auth/becomeanagent")).data;r({total:e.agents.length,verified:e.agents.filter(e=>e.verified).length,unverified:e.agents.filter(e=>!e.verified).length})}catch(e){console.error("Error fetching agent data:",e)}})()},[n]);let o=e=>{let{name:r,value:t}=e.target;i(e=>({...e,[r]:t}))},c=async e=>{e.preventDefault();try{let e=await l.A.post("/api/auth/hotdeals",t);201===e.status&&(alert("Deal created successfully!"),i({from:"",to:"",departure:"",returnDate:"",class:"",priceFrom:"",type:""}))}catch(e){console.error("Error creating deal:",e),alert("Failed to create deal. Please try again.")}};return(0,a.jsx)("div",{className:"min-h-screen p-20 bg-gradient-to-r from-gray-400 to-blue-950",children:(0,a.jsxs)("main",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-5",children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Total Agents"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.total})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Verified Agents"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.verified})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Unverified Agents"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.unverified})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Create Hot Deal"}),(0,a.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"From"}),(0,a.jsx)("input",{type:"text",name:"from",value:t.from,onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"To"}),(0,a.jsx)("input",{type:"text",name:"to",value:t.to,onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Departure"}),(0,a.jsx)("input",{type:"date",name:"departure",value:t.departure,onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Return Date"}),(0,a.jsx)("input",{type:"date",name:"returnDate",value:t.returnDate,onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Class"}),(0,a.jsx)("input",{type:"text",name:"class",value:t.class,onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price From"}),(0,a.jsx)("input",{type:"number",name:"priceFrom",value:t.priceFrom,onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,a.jsxs)("select",{name:"type",value:t.type,onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0,children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Select type"}),(0,a.jsx)("option",{value:"flight",children:"Flight"}),(0,a.jsx)("option",{value:"package",children:"Package"}),(0,a.jsx)("option",{value:"cruise",children:"Cruise"})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition-colors",children:"Create Deal"})})]})]})]})})}},6046:(e,r,t)=>{"use strict";var a=t(6658);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})}},e=>{var r=r=>e(e.s=r);e.O(0,[2651,8441,1517,7358],()=>r(6558)),_N_E=e.O()}]);